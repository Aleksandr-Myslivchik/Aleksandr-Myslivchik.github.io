(()=>{"use strict";var e={39:(e,t,c)=>{e.exports=c.p+"assets/images/SourceSansPro-Regular.efa76f8326aa5cee3bdd..ttf"}},t={};function c(s){var o=t[s];if(void 0!==o)return o.exports;var l=t[s]={exports:{}};return e[s](l,l.exports,c),l.exports}c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var e;c.g.importScripts&&(e=c.g.location+"");var t=c.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var s=t.getElementsByTagName("script");s.length&&(e=s[s.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),c.p=e})(),(()=>{const e=(e,t,c,s)=>{const o=document.createElement("div");return o.classList.add("select__option__item"),o.setAttribute("data-value",c),t&&o.setAttribute("data-level",t),o.insertAdjacentHTML("afterbegin",`\n            <div class='select__option__overlay'></div>\n            <div class="select__option__checkbox__wrapper">\n                <input id="select__option__checkbox__item_${s}" type="checkbox" class="select__option__checkbox">\n                <div class='select__checkbox'></div>\n                </div>\n            <label for="select__option__checkbox__item_${s}">\n                <div class="select__option__item__description">${e}</div>\n            </label>\n    `),o},t=(e,c,s)=>{const o=e.lastElementChild,l=o.children[o.childElementCount-1];if(l.matches(".select__option__children-container"))l.dataset.level==c?l.append(s):t(l,c,s);else{const e=document.createElement("div"),t=document.createElement("div");o.classList.add("nested","show-border"),e.classList.add("arrow","show"),e.append(t),o.insertAdjacentElement("afterbegin",e);const l=(e=>{const t=document.createElement("div");return t.classList.add("select__option__children-container",`children-container_level-${e}`),t.setAttribute("data-level",e),t})(c);l.append(s),o.append(l)}},s=e=>{let t=!1;const c=e.target.closest(".arrow"),s=e.target.closest(".nested");c&&!t&&(t=!0,c.classList.toggle("inprocess"),setTimeout((()=>{s.classList.toggle("show-border"),c.classList.toggle("inprocess"),c.classList.toggle("show"),t=!1}),200))},o=e=>{const t=Array.from(e.querySelectorAll(".select__option__checkbox")),c=t.every((e=>!0===e.checked)),s=t.some((e=>!0===e.checked)),l=e.closest(".nested").querySelector(".select__checkbox"),r=e.closest(".nested").querySelector(".select__option__checkbox"),n=e.closest(".nested").closest(".select__option__children-container");c?(l.classList.remove("some-childs-checked"),r.checked=c,n&&o(n)):!c&&s?(l.classList.add("some-childs-checked"),r.checked=c,n&&o(n)):n?((e=>{const t=[...e.querySelectorAll(".select__checkbox")],c=e.querySelector(".select__option__checkbox"),s=e.closest(".nested").closest(".select__option__children-container");c.checked=!1;for(let e of t)e.matches(".some-childs-checked")&&e.classList.remove("some-childs-checked");s||e.closest(".nested").querySelector(".select__checkbox").classList.remove("some-childs-checked")})(n),o(n)):(r.checked=s,l.classList.remove("some-childs-checked"))};function l(e){const t=e.checked,c=e.closest(".select__option__item"),s=c.querySelector(".select__checkbox"),l=c.querySelector(".select__option__children-container"),r=e.closest(".select__option__children-container");s.classList.remove("some-childs-checked"),l&&((e,t)=>{const c=Array.from(t.querySelectorAll(".select__option__checkbox__wrapper "));for(let t of c)t.querySelector(".select__option__checkbox").checked=e,t.querySelector(".select__checkbox").classList.remove("some-childs-checked")})(t,l),r&&o(r),t?c.classList.add("active"):c.classList.remove("active")}const r=(e,t)=>{const c=e.target;c.matches(".select__option__checkbox")&&(l(c),function(e,t){const c=e.closest(".select").querySelectorAll("input:checked");t.chosenOptions.length=0,Array.from(c).forEach((e=>{const c=e.closest(".select__option__item");c&&t.chosenOptions.push(c)}))}(c,t))};function n(e,t){const c=e.target,s=c.closest(".select-block__wrapper"),o=t.querySelector(".select"),l=c.closest(".select-block__wrapper").querySelector(".select-block__title-item"),r=c.closest(".select-block__wrapper").querySelector(".select-block__title__arrow"),n=c.closest(".custom-select-root").querySelector(".select-block__footer");t.classList.add("active"),o.classList.add("active"),s.classList.add("active"),l.classList.add("active"),r.classList.add("active"),n.classList.add("active"),l.innerText="Реализуемые товары"}const i=e=>{const t=e.target,c=t.closest(".select-block__input-wrapper"),s=t.closest(".custom-select-root");c&&!s.matches(".active")&&n(e,s)},a="Тендеры в роли поставщика",_="Код ОКРБ или наименование закупаемой продукции",d=()=>{const e=document.createElement("div");return e.classList.add("select-block__wrapper"),e.insertAdjacentHTML("afterbegin",`\n    <div class="select-block__header">\n  <div class='select-block__title-wrapper'>\n    <div class='select-block__title__arrow'></div>\n    <span class='select-block__title-item'>${a}</span>\n  </div>\n  <div class="select-block__chosen-items-wrapper">\n    <span class="select-block__chosen-items-description">Показать выбранное&nbsp;<span class='select-block__chosen-items-amount'></span></span>\n  </div>\n</div>\n<div class='select-block__input-wrapper'>\n  <input type='text' class='select-block__input-item' placeholder='${_}'/>\n</div>\n`),e},p=()=>{const e=document.createElement("div");return e.classList.add("select-block__footer"),e.insertAdjacentHTML("afterbegin",'\n    <div class="select-block__footer-button-wrapper">\n        <span class="select-block__footer-button-item">применить</span>\n    </div>\n    <div class="select-block__footer-clear-button-wrapper">\n        <span class="select-block__footer-clear-button-item">Очистить</span>\n    </div>\n'),e};function u(e){const t=e.target,c=t.closest(".custom-select-root");t.matches(".select-block__chosen-items-wrapper.active span")&&!c.matches(".active")&&n(e,c)}const h="Тендеры в роли заказчика";function m(e){const t=e.root,c=t.querySelector(".select-block__wrapper"),s=t.querySelector(".select"),o=t.querySelector(".select-block__wrapper").querySelector(".select-block__title-item"),l=t.querySelector(".select-block__wrapper").querySelector(".select-block__title__arrow"),r=t.querySelector(".select-block__footer");t.classList.remove("active"),s.classList.remove("active"),c.classList.remove("active"),o.classList.remove("active"),l.classList.remove("active"),r.classList.remove("active"),o.textContent=e.selectedOptionsState.length?h:a}function v(e){const t=e.root.querySelector(".select-block__chosen-items-wrapper"),c=e.root.querySelector(".select-block__chosen-items-amount"),s=e.root.querySelector(".select-block__input-wrapper"),o=e.root.querySelector(".select-block__input-item"),l=e.selectedOptionsState[0].querySelector(".select__option__item__description").textContent.trim(),r=root.querySelector(".select-block__wrapper").querySelector(".select-block__title-item");t.classList.add("active"),c.textContent=`(${e.chosenOptions.length})`,e.isEmpty=!1,o.value="",o.setAttribute("placeholder",l),s.classList.add("active"),o.classList.add("active"),r.textContent=e.selectedOptionsState.length?h:a}function b(e,t){e.target.matches(".select-block__footer-button-wrapper,.select-block__footer-button-item")&&t.chosenOptions.length&&(t.selectedOptionsState.length=0,t.chosenOptions.forEach((e=>{t.selectedOptionsState.includes(e)||t.selectedOptionsState.push(e)})),v(t),m(t),console.log("Confirm",t))}function k(e,t){const c=e.target,s=c.closest(".custom-select-root");if(!c.matches(".select-block__footer-clear-button-wrapper,.select-block__footer-clear-button-item"))return;const o=s.querySelectorAll("input:checked"),l=s.querySelectorAll(".some-childs-checked");(o.length||t.selectedOptionsState.length)&&(o&&o.forEach((e=>{e.checked=!1,e.closest(".select__option__item").classList.remove("active")})),l&&l.forEach((e=>e.classList.remove("some-childs-checked"))),function(e){e.chosenOptions.length=0,e.selectedOptionsState.length=0,e.defaultSelected.length=0,e.isEmpty=!0;const t=e.root.querySelector(".select-block__chosen-items-wrapper"),c=e.root.querySelector(".select-block__input-wrapper"),s=e.root.querySelector(".select-block__input-item"),o=e.root.querySelector(".select-block__wrapper").querySelector(".select-block__title-item");t.classList.remove("active"),c.classList.remove("active"),s.classList.remove("active"),s.value="",s.setAttribute("placeholder",_),o.textContent=a,e.selectItem.innerHTML="",e.selectItem.append(...e.sortedOptions);for(const t of e.selectItem.querySelectorAll(".select__option__item__description"))t.innerHTML=t.innerHTML.trim().replace("<b>","").replace("</b>","")}(t))}function f(e,t){e.target.matches(".select-block__title__arrow.active")&&(m(t),function(e){e.selectedOptionsState.length&&e.selectedOptionsState.forEach((e=>{const t=e.querySelector(".select__option__checkbox");t.checked=!0,l(t)}))}(t))}function S(e,t,c){const s=e.target.value,o=[],{sortedOptions:l}=t;for(const e of l)for(const t of e.querySelectorAll(".select__option__item__description"))t.innerHTML=t.innerHTML.trim().replace("<b>","").replace("</b>",""),t.textContent.trim().includes(s)&&(t.innerHTML=t.textContent.replace(s,`<b>${s}</b>`),e.dataset.level||o.push(e));o.length?(c.innerHTML="",c.append(...o)):(c.innerHTML="",c.append(...t.sortedOptions))}class y{constructor(e,t){this.state={root:e,selectItem:t,sortedOptions:[],everyOption:[],chosenOptions:[],selectedOptionsState:[],isEmpty:!0,defaultSelected:[]}}}c(39),(new class{#e=document.querySelector("#root");#t=Array.from(document.querySelectorAll("select"));constructor(){this.selectItems=[]}render=()=>{for(const o of this.#t){const n=document.createElement("div"),a=document.createElement("div"),_=new y(n,a);this.selectItems.push(_),n.classList.add("custom-select-root"),a.classList.add("select"),a.setAttribute("name",o.name);const h=d();for(let c of o.children){const s=c.textContent,l=c.dataset.level,r=c.value,n=this.#t.indexOf(o)+r+"_"+c.tagName,i=e(s,l,r,n);if(l?t(a,l,i):a.append(i),c.selected&&(_.state.defaultSelected.push(i),_.state.selectedOptionsState.push(i),_.state.chosenOptions.push(i)),l){if(2==l){const e=_.state.everyOption[_.state.everyOption.length-1];!_.state.sortedOptions.includes(e)&&_.state.sortedOptions.push(e)}}else _.state.sortedOptions.push(i);i.querySelector(".select__option__checkbox").value=c.textContent.trim(),_.state.everyOption.push(i)}const m=p();a.addEventListener("change",(e=>{console.log(e.target.value),r(e,_.state)})),h.addEventListener("click",(e=>{i(e),f(e,_.state),u(e)}));const L=h.querySelector(".select-block__input-item");L.addEventListener("input",(e=>{S(e,_.state,a)})),L.addEventListener("paste",(e=>{S(e,_.state,a)})),n.addEventListener("click",(e=>{s(e),b(e,_.state),k(e,_.state)})),n.append(h,a,m),this.#e.append(n),_.state.defaultSelected.length&&((c=_.state).defaultSelected.forEach((e=>{const t=e.querySelector(".select__option__checkbox");t.checked=!0,l(t)})),v(c))}var c;console.log(this.selectItems)}}).render()})()})();